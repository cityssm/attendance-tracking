"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),(()=>{var e,s,t;const n=exports.Attend,a="is-update-button",o="is-up-button",r="is-down-button",l="is-delete-button";function c(e){e.currentTarget.closest("tr").classList.add("has-background-warning-light")}let i=exports.absenceTypes;function d(e){const s=e.currentTarget.closest("tr"),t=s.dataset.absenceTypeKey,a=s.querySelector("input").value;cityssm.postJSON(`${n.urlPrefix}/admin/doUpdateAbsenceType`,{absenceTypeKey:t,absenceType:a},e=>{e.success&&(bulmaJS.alert({message:"Absence type updated successfully."}),s.classList.remove("has-background-warning-light"))})}function u(e){const s=e.currentTarget,t=s.closest("tr").dataset.absenceTypeKey;cityssm.postJSON(`${n.urlPrefix}/admin/${"up"===s.dataset.direction?"doMoveAbsenceTypeUp":"doMoveAbsenceTypeDown"}`,{absenceTypeKey:t,moveToEnd:e.shiftKey?"1":"0"},e=>{var s;const t=e;t.success?(i=t.absenceTypes,y()):bulmaJS.alert({title:"Error Moving Absence Type",message:null!==(s=t.errorMessage)&&void 0!==s?s:"",contextualColorName:"danger"})})}function p(e){const s=e.currentTarget.closest("tr").dataset.absenceTypeKey;bulmaJS.confirm({title:"Delete Absence Type",message:"Are you sure you want to delete this absence type?",contextualColorName:"warning",okButton:{text:"Yes, Delete Absence Type",callbackFunction:function(){cityssm.postJSON(`${n.urlPrefix}/admin/doDeleteAbsenceType`,{absenceTypeKey:s},e=>{var s;const t=e;t.success?(i=t.absenceTypes,y()):bulmaJS.alert({title:"Error Deleting Absence Type",message:null!==(s=t.errorMessage)&&void 0!==s?s:"",contextualColorName:"danger"})})}}})}function y(){const e=document.querySelector("#container--absenceTypes");if(0===i.length)return void(e.innerHTML='<div class="message is-warning">\n        <p class="message-body">There are no active absence types.</p>\n        </div>');e.innerHTML='<table class="table is-striped is-hoverable is-fade-hoverable is-fullwidth">\n      <thead>\n        <tr>\n          <th>Absence Type</th>\n          <th class="has-width-1">\n            <span class="is-sr-only">Update Absence Type</span>\n          </th>\n          <th class="has-width-1">\n            <span class="is-sr-only">Move Absence Type</span>\n          </th>\n          <th class="has-width-1">\n            <span class="is-sr-only">Delete Absence Type</span>\n          </th>\n        </tr>\n      </thead>\n      <tbody></tbody>\n      </table>';const s=e.querySelector("tbody");for(const e of i){const t=document.createElement("tr");t.dataset.absenceTypeKey=e.absenceTypeKey,t.innerHTML=`<td>\n        <input class="input" name="absenceType" maxlength="100" aria-label="Absence Type" required />\n        </td>\n        <td>\n          <button class="button is-success ${a}" data-cy="save" type="button" aria-label="Update Absence Type">\n            <i class="fas fa-save" aria-hidden="true"></i>\n          </button>\n        </td>\n        <td>\n          <div class="field has-addons">\n            <div class="control">\n              <button class="button ${o}" data-direction="up" type="button" aria-label="Move Up">\n                <i class="fas fa-arrow-up" aria-hidden="true"></i>\n              </button>\n            </div>\n            <div class="control">\n              <button class="button ${r}" data-direction="down" type="button" aria-label="Move Down">\n                <i class="fas fa-arrow-down" aria-hidden="true"></i>\n              </button>\n            </div>\n          </div>\n        </td>\n        <td>\n        <button class="button is-danger ${l}" data-cy="delete" type="button" aria-label="Delete Absence Type">\n          <i class="fas fa-trash" aria-hidden="true"></i>\n        </button>\n        </td>`;const n=t.querySelector("input");n.value=e.absenceType,n.addEventListener("change",c),t.getElementsByClassName(a)[0].addEventListener("click",d),t.getElementsByClassName(o)[0].addEventListener("click",u),t.getElementsByClassName(r)[0].addEventListener("click",u),t.getElementsByClassName(l)[0].addEventListener("click",p),s.append(t)}}delete exports.absenceTypes,null===(e=document.querySelector("#tab--absenceTypes .is-add-button"))||void 0===e||e.addEventListener("click",()=>{let e;function s(s){s.preventDefault(),cityssm.postJSON(`${n.urlPrefix}/admin/doAddAbsenceType`,s.currentTarget,s=>{var t;const n=s;n.success?(e(),bulmaJS.alert({message:"Absence type added successfully.",contextualColorName:"success"}),i=n.absenceTypes,y()):bulmaJS.alert({title:"Error Adding Absence Type",message:null!==(t=n.errorMessage)&&void 0!==t?t:"",contextualColorName:"danger"})})}cityssm.openHtmlModal("tableAdmin-addAbsenceType",{onshown(t,n){var a,o;bulmaJS.toggleHtmlClipped(),e=n,null===(a=t.querySelector("input"))||void 0===a||a.focus(),null===(o=t.querySelector("form"))||void 0===o||o.addEventListener("submit",s)},onremoved(){bulmaJS.toggleHtmlClipped()}})}),y();let b=exports.callOutResponseTypes;function m(e){const s=e.currentTarget.closest("tr"),t=s.dataset.responseTypeId,a=s.querySelector("input").value,o=s.querySelector("select").value;cityssm.postJSON(`${n.urlPrefix}/admin/doUpdateCallOutResponseType`,{responseTypeId:t,responseType:a,isSuccessful:o},e=>{e.success&&(bulmaJS.alert({message:"Response type updated successfully."}),s.classList.remove("has-background-warning-light"))})}function v(e){const s=e.currentTarget,t=s.closest("tr").dataset.responseTypeId;cityssm.postJSON(`${n.urlPrefix}/admin/${"up"===s.dataset.direction?"doMoveCallOutResponseTypeUp":"doMoveCallOutResponseTypeDown"}`,{responseTypeId:t,moveToEnd:e.shiftKey?"1":"0"},e=>{var s;const t=e;t.success?(b=t.callOutResponseTypes,g()):bulmaJS.alert({title:"Error Moving Response Type",message:null!==(s=t.errorMessage)&&void 0!==s?s:"",contextualColorName:"danger"})})}function f(e){const s=e.currentTarget.closest("tr").dataset.responseTypeId;bulmaJS.confirm({title:"Delete Response Type",message:"Are you sure you want to delete this response type?",contextualColorName:"warning",okButton:{text:"Yes, Delete Response Type",callbackFunction:function(){cityssm.postJSON(`${n.urlPrefix}/admin/doDeleteCallOutResponseType`,{responseTypeId:s},e=>{var s;const t=e;t.success?(b=t.callOutResponseTypes,g()):bulmaJS.alert({title:"Error Deleting Response Type",message:null!==(s=t.errorMessage)&&void 0!==s?s:"",contextualColorName:"danger"})})}}})}function g(){var e;const s=document.querySelector("#container--callOutResponseTypes");if(0===i.length)return void(s.innerHTML='<div class="message is-warning">\n        <p class="message-body">There are no active response types.</p>\n        </div>');s.innerHTML='<table class="table is-striped is-hoverable is-fade-hoverable is-fullwidth">\n      <thead>\n        <tr>\n          <th>Response Type</th>\n          <th>Is Successful</th>\n          <th class="has-width-1">\n            <span class="is-sr-only">Update Response Type</span>\n          </th>\n          <th class="has-width-1">\n            <span class="is-sr-only">Move Response Type</span>\n          </th>\n          <th class="has-width-1">\n            <span class="is-sr-only">Delete Response Type</span>\n          </th>\n        </tr>\n      </thead>\n      <tbody></tbody>\n      </table>';const t=s.querySelector("tbody");for(const s of b){const n=document.createElement("tr");n.dataset.responseTypeId=s.responseTypeId.toString(),n.innerHTML=`<td>\n        <input class="input" name="responseType" maxlength="100" aria-label="Call Out Response Type" required />\n        </td>\n        <td>\n          <div class="select is-fullwidth">\n            <select name="isSuccessful" aria-label="Is Successful" required>\n              <option value="1">Successful</option>\n              <option value="0">Unsuccessful</option>\n            </select>\n          </div>\n        </td>\n        <td>\n          <button class="button is-success ${a}" data-cy="save" type="button" aria-label="Update Response Type">\n            <i class="fas fa-save" aria-hidden="true"></i>\n          </button>\n        </td>\n        <td>\n          <div class="field has-addons">\n            <div class="control">\n              <button class="button ${o}" data-direction="up" type="button" aria-label="Move Up">\n                <i class="fas fa-arrow-up" aria-hidden="true"></i>\n              </button>\n            </div>\n            <div class="control">\n              <button class="button ${r}" data-direction="down" type="button" aria-label="Move Down">\n                <i class="fas fa-arrow-down" aria-hidden="true"></i>\n              </button>\n            </div>\n          </div>\n        </td>\n        <td>\n        <button class="button is-danger ${l}" data-cy="delete" type="button" aria-label="Delete Response Type">\n          <i class="fas fa-trash" aria-hidden="true"></i>\n        </button>\n        </td>`;const i=n.querySelector("input");i.value=s.responseType,i.addEventListener("change",c),null===(e=n.querySelector("select"))||void 0===e||e.addEventListener("change",c),s.isSuccessful||(n.querySelector("select").value="0"),n.getElementsByClassName(a)[0].addEventListener("click",m),n.getElementsByClassName(o)[0].addEventListener("click",v),n.getElementsByClassName(r)[0].addEventListener("click",v),n.getElementsByClassName(l)[0].addEventListener("click",f),t.append(n)}}delete exports.callOutResponseTypes,null===(s=document.querySelector("#tab--callOutResponseTypes .is-add-button"))||void 0===s||s.addEventListener("click",()=>{let e;function s(s){s.preventDefault(),cityssm.postJSON(`${n.urlPrefix}/admin/doAddCallOutResponseType`,s.currentTarget,s=>{var t;const n=s;n.success?(e(),bulmaJS.alert({message:"Response type added successfully.",contextualColorName:"success"}),b=n.callOutResponseTypes,g()):bulmaJS.alert({title:"Error Adding Response Type",message:null!==(t=n.errorMessage)&&void 0!==t?t:"",contextualColorName:"danger"})})}cityssm.openHtmlModal("tableAdmin-addCallOutResponseType",{onshown(t,n){var a,o;bulmaJS.toggleHtmlClipped(),e=n,null===(a=t.querySelector("input"))||void 0===a||a.focus(),null===(o=t.querySelector("form"))||void 0===o||o.addEventListener("submit",s)},onremoved(){bulmaJS.toggleHtmlClipped()}})}),g();let h=exports.afterHoursReasons;function T(e){const s=e.currentTarget.closest("tr"),t=s.dataset.afterHoursReasonId,a=s.querySelector("input").value;cityssm.postJSON(`${n.urlPrefix}/admin/doUpdateAfterHoursReason`,{afterHoursReasonId:t,afterHoursReason:a},e=>{e.success&&(bulmaJS.alert({message:"Reason updated successfully."}),s.classList.remove("has-background-warning-light"))})}function S(e){const s=e.currentTarget,t=s.closest("tr").dataset.afterHoursReasonId;cityssm.postJSON(`${n.urlPrefix}/admin/${"up"===s.dataset.direction?"doMoveAfterHoursReasonUp":"doMoveAfterHoursReasonDown"}`,{afterHoursReasonId:t,moveToEnd:e.shiftKey?"1":"0"},e=>{var s;const t=e;t.success?(h=t.afterHoursReasons,E()):bulmaJS.alert({title:"Error Moving Reason",message:null!==(s=t.errorMessage)&&void 0!==s?s:"",contextualColorName:"danger"})})}function R(e){const s=e.currentTarget.closest("tr").dataset.afterHoursReasonId;bulmaJS.confirm({title:"Delete Reason",message:"Are you sure you want to delete this after hours reason?",contextualColorName:"warning",okButton:{text:"Yes, Delete Reason",callbackFunction:function(){cityssm.postJSON(`${n.urlPrefix}/admin/doDeleteAfterHoursReason`,{afterHoursReasonId:s},e=>{var s;const t=e;t.success?(h=t.afterHoursReasons,E()):bulmaJS.alert({title:"Error Deleting Reason",message:null!==(s=t.errorMessage)&&void 0!==s?s:"",contextualColorName:"danger"})})}}})}function E(){const e=document.querySelector("#container--afterHoursReasons");if(0===i.length)return void(e.innerHTML='<div class="message is-warning">\n        <p class="message-body">There are no active active hours reasons.</p>\n        </div>');e.innerHTML='<table class="table is-striped is-hoverable is-fade-hoverable is-fullwidth">\n      <thead>\n        <tr>\n          <th>Reason</th>\n          <th class="has-width-1">\n            <span class="is-sr-only">Update Reason</span>\n          </th>\n          <th class="has-width-1">\n            <span class="is-sr-only">Move Reason</span>\n          </th>\n          <th class="has-width-1">\n            <span class="is-sr-only">Delete Reason</span>\n          </th>\n        </tr>\n      </thead>\n      <tbody></tbody>\n      </table>';const s=e.querySelector("tbody");for(const e of h){const t=document.createElement("tr");t.dataset.afterHoursReasonId=e.afterHoursReasonId.toString(),t.innerHTML=`<td>\n        <input class="input" name="afterHoursReason" maxlength="100" aria-label="After Hours Reason" required />\n        </td>\n        <td>\n          <button class="button is-success ${a}" data-cy="save" type="button" aria-label="Update Reason">\n            <i class="fas fa-save" aria-hidden="true"></i>\n          </button>\n        </td>\n        <td>\n          <div class="field has-addons">\n            <div class="control">\n              <button class="button ${o}" data-direction="up" type="button" aria-label="Move Up">\n                <i class="fas fa-arrow-up" aria-hidden="true"></i>\n              </button>\n            </div>\n            <div class="control">\n              <button class="button ${r}" data-direction="down" type="button" aria-label="Move Down">\n                <i class="fas fa-arrow-down" aria-hidden="true"></i>\n              </button>\n            </div>\n          </div>\n        </td>\n        <td>\n        <button class="button is-danger ${l}" data-cy="delete" type="button" aria-label="Delete Reason">\n          <i class="fas fa-trash" aria-hidden="true"></i>\n        </button>\n        </td>`;const n=t.querySelector("input");n.value=e.afterHoursReason,n.addEventListener("change",c),t.getElementsByClassName(a)[0].addEventListener("click",T),t.getElementsByClassName(o)[0].addEventListener("click",S),t.getElementsByClassName(r)[0].addEventListener("click",S),t.getElementsByClassName(l)[0].addEventListener("click",R),s.append(t)}}delete exports.afterHoursReasons,null===(t=document.querySelector("#tab--afterHoursReasons .is-add-button"))||void 0===t||t.addEventListener("click",()=>{let e;function s(s){s.preventDefault(),cityssm.postJSON(`${n.urlPrefix}/admin/doAddAfterHoursReason`,s.currentTarget,s=>{var t;const n=s;n.success?(e(),bulmaJS.alert({message:"Reason added successfully.",contextualColorName:"success"}),h=n.afterHoursReasons,E()):bulmaJS.alert({title:"Error Adding Reason",message:null!==(t=n.errorMessage)&&void 0!==t?t:"",contextualColorName:"danger"})})}cityssm.openHtmlModal("tableAdmin-addAfterHoursReason",{onshown(t,n){var a,o;bulmaJS.toggleHtmlClipped(),e=n,null===(a=t.querySelector("input"))||void 0===a||a.focus(),null===(o=t.querySelector("form"))||void 0===o||o.addEventListener("submit",s)},onremoved(){bulmaJS.toggleHtmlClipped()}})}),E()})();